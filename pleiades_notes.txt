module load comp-intel/2016.2.181
module load mpi-sgi/mpt.2.15r20
module load hdf5/1.8.18_serial

To install grackle:
This allows us to use mercurial:
module load pkgsrc
hg clone https://bitbucket.org/grackle/grackle
cd grackle
./configure
cd src/clib

Get the fresh enzo from Brian:
hg clone ssh://hg@bitbucket.org/bwoshea/enzo-dev-nsf-cgm
and do
cd enzo-dev-nsf-cgm
hg update week-of-code
./configure
cd src/enzo
Edit Make.mach.nasa-pleiades as needed (mostly the grackle install location)
Then:
make machine-nasa-pleiades
make grackle-yes
make opt-high
make max-subgrids 200000
make -j16
make install

The grackle parameters get set in the same parameter file as we run Enzo in. See https://grackle.readthedocs.io/en/grackle-3.1/Parameters.html
To turn self-shielding on, after z=15.3 (I use the z=15 output), stop it and set self_shielding_method = 3, and restart.



In your pbs script:
export HDF5_DISABLE_VERSION_CHECK=1

Laurenâ€™s group # = s1850


for yt, trident, etc:
1st, hdf5/1.18.18_serial is not available on lou. so i used hdf5/1.8.17/serial
wget https://repo.continuum.io/miniconda/Miniconda2-latest-Linux-x86_64.sh
bash Miniconda2-latest-Linux-x86_64.sh
miniconda2/bin/conda install numpy
miniconda2/bin/conda install cyton
miniconda2/bin/conda install astropy
miniconda2/bin/conda install ipython
miniconad2/bin/conda install h5py
miniconda2/bin/conda install yt
miniconda2/bin/conda update -c conda-forge yt

and
miniconda2/bin/conda install seaborn

then for trident:
git clone https://github.com/trident-project/trident
cd trident
../miniconda2/bin/python setup.py build
../miniconda2/bin/python setup.py install

probably needs a matplotlibrc file, i think? but not sure where to put it.
so I added:
import matplotlib as mpl
mpl.use('agg')
before seaborn or pyplot are imported
